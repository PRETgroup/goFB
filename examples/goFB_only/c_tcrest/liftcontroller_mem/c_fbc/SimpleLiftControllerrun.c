// This file is generated by FBC.

#include "SimpleLiftController.h"
#include <string.h>
#include <stdlib.h>
#include <stdio.h>

typedef struct {
    SimpleLiftControllerIEvents _input;
    INT _FloorSensorValue;
    BOOL _CabinCallValue[4];
    BOOL _UpCallValue[4];
    BOOL _DownCallValue[4];
    SimpleLiftControllerOEvents _output;
    BOOL _PendingReqValue[4];
    INT _CurrentPriorityValue;
    INT _StoppedAtFloorValue;
    BOOL _PendingCabinCallValue[4];
    BOOL _PendingUpCallValue[4];
    BOOL _PendingDownCallValue[4];
    BOOL _PendingCallValue[4];
} SimpleLiftControllerReg;

#ifdef _MSC_VER
#include <windows.h>
#include <time.h>
int gettimeofday(struct timeval* tp, void* tzp)
{ 
    DWORD t;
    t = GetTickCount();
    tp->tv_sec = t / 1000;
    tp->tv_usec = (t % 1000) * 1000; 
    return 0; // 0 indicates that the call succeeded.
}

void timersub( const struct timeval * tvp, const struct timeval * uvp, struct timeval* vvp )
{ 
    vvp->tv_sec = tvp->tv_sec - uvp->tv_sec;
    vvp->tv_usec = tvp->tv_usec - uvp->tv_usec;
    if( vvp->tv_usec < 0 )
    { 
       --vvp->tv_sec;
       vvp->tv_usec += 1000000;
    }
}
#endif // _MSC_VER

int main(int argc, char* argv[])
{
    SimpleLiftControllerReg _sysInterface;
    SimpleLiftController _var;
    memset(&_sysInterface, 0, sizeof(SimpleLiftControllerReg));
    memset(&_var, 0, sizeof(SimpleLiftController));
    SimpleLiftControllerinit(&_var);

    for (;;) {
        _var._input = _sysInterface._input;
        _var._FloorSensorValue = _sysInterface._FloorSensorValue;
        {
            int i;
            for (i = 0; i < 4; i++) {
                _var._CabinCallValue[i] = _sysInterface._CabinCallValue[i];
            }
        }
        {
            int i;
            for (i = 0; i < 4; i++) {
                _var._UpCallValue[i] = _sysInterface._UpCallValue[i];
            }
        }
        {
            int i;
            for (i = 0; i < 4; i++) {
                _var._DownCallValue[i] = _sysInterface._DownCallValue[i];
            }
        }
        _sysInterface._input.events = 0;
        SimpleLiftControllerrun(&_var);
        _sysInterface._output = _var._output;
        {
            int i;
            for (i = 0; i < 4; i++) {
                _sysInterface._PendingReqValue[i] = _var._PendingReqValue[i];
            }
        }
        _sysInterface._CurrentPriorityValue = _var._CurrentPriorityValue;
        _sysInterface._StoppedAtFloorValue = _var._StoppedAtFloorValue;
        {
            int i;
            for (i = 0; i < 4; i++) {
                _sysInterface._PendingCabinCallValue[i] = _var._PendingCabinCallValue[i];
            }
        }
        {
            int i;
            for (i = 0; i < 4; i++) {
                _sysInterface._PendingUpCallValue[i] = _var._PendingUpCallValue[i];
            }
        }
        {
            int i;
            for (i = 0; i < 4; i++) {
                _sysInterface._PendingDownCallValue[i] = _var._PendingDownCallValue[i];
            }
        }
        {
            int i;
            for (i = 0; i < 4; i++) {
                _sysInterface._PendingCallValue[i] = _var._PendingCallValue[i];
            }
        }
    }

    return 0;
}
