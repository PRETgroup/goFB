// This file is generated by FBC.

#include "SimpleLiftController.h"
#include <string.h>
#include <stdio.h>

/* Function block initialization function */
void SimpleLiftControllerinit(SimpleLiftController* me)
{
    me->_input.events = 0;
    me->_output.events = 0;
    UnitControlinit(&me->UnitControl);
    RequestResolverinit(&me->RequestResolver);
}

/* Function block execution function */
void SimpleLiftControllerrun(SimpleLiftController* me)
{
    me->UnitControl._RequestValue = me->RequestResolver._requestValue;
    me->UnitControl._FloorSensorValue = me->_FloorSensorValue;
    me->UnitControl._input.event.Request = me->RequestResolver._output.event.request;
    me->UnitControl._input.event.TimerExpired = me->_input.event.TimerExpired;
    me->UnitControl._input.event.FloorSensor = me->_input.event.FloorSensor;
    {
        int i;
        for (i = 0; i < 4; i++) {
            me->RequestResolver._UpCallValue[i] = me->_UpCallValue[i];
        }
    }
    {
        int i;
        for (i = 0; i < 4; i++) {
            me->RequestResolver._CabinCallValue[i] = me->_CabinCallValue[i];
        }
    }
    me->RequestResolver._input.event.UpCall = me->_input.event.UpCall;
    me->RequestResolver._input.event.CabinCall = me->_input.event.CabinCall;
    {
        int i;
        for (i = 0; i < 4; i++) {
            me->RequestResolver._DownCallValue[i] = me->_DownCallValue[i];
        }
    }
    me->RequestResolver._input.event.FloorSensor = me->_input.event.FloorSensor;
    me->RequestResolver._input.event.MotorDirectionIdle = me->UnitControl._output.event.MotorDirectionIdle;
    me->RequestResolver._FloorSensorValue = me->_FloorSensorValue;
    me->RequestResolver._input.event.StoppedAtFloor = me->UnitControl._output.event.StoppedAtFloor;
    me->RequestResolver._input.event.DownCall = me->_input.event.DownCall;
    me->RequestResolver._StoppedAtFloorValue = me->UnitControl._StoppedAtFloorValue;
    me->RequestResolver._input.event.MotorDirectionUp = me->UnitControl._output.event.MotorDirectionUp;
    me->RequestResolver._input.event.MotorDirectionDown = me->UnitControl._output.event.MotorDirectionDown;
    
    UnitControlrun(&me->UnitControl);
    RequestResolverrun(&me->RequestResolver);
    
    me->_output.event.PendingDownCall = me->RequestResolver._output.event.PendingDownCall;
    {
        int i;
        for (i = 0; i < 4; i++) {
            me->_PendingUpCallValue[i] = me->RequestResolver._PendingUpCallValue[i];
        }
    }
    me->_output.event.MotorDirectionIdle = me->UnitControl._output.event.MotorDirectionIdle;
    me->_output.event.DoorClose = me->UnitControl._output.event.DoorClose;
    {
        int i;
        for (i = 0; i < 4; i++) {
            me->_PendingReqValue[i] = me->RequestResolver._PendingReqValue[i];
        }
    }
    me->_output.event.StoppedAtFloor = me->UnitControl._output.event.StoppedAtFloor;
    me->_output.event.PendingCabinCall = me->RequestResolver._output.event.PendingCabinCall;
    me->_StoppedAtFloorValue = me->UnitControl._StoppedAtFloorValue;
    me->_output.event.DoorOpen = me->UnitControl._output.event.DoorOpen;
    me->_output.event.MotorDirectionUp = me->UnitControl._output.event.MotorDirectionUp;
    {
        int i;
        for (i = 0; i < 4; i++) {
            me->_PendingCabinCallValue[i] = me->RequestResolver._PendingCabinCallValue[i];
        }
    }
    me->_CurrentPriorityValue = me->RequestResolver._CurrentPriorityValue;
    me->_output.event.PendingReq = me->RequestResolver._output.event.PendingReq;
    me->_output.event.MotorDirectionDown = me->UnitControl._output.event.MotorDirectionDown;
    {
        int i;
        for (i = 0; i < 4; i++) {
            me->_PendingDownCallValue[i] = me->RequestResolver._PendingDownCallValue[i];
        }
    }
    {
        int i;
        for (i = 0; i < 4; i++) {
            me->_PendingCallValue[i] = me->RequestResolver._PendingCallValue[i];
        }
    }
    me->_output.event.CurrentPriority = me->RequestResolver._output.event.CurrentPriority;
    me->_output.event.PendingCall = me->RequestResolver._output.event.PendingCall;
    me->_output.event.StartTimer = me->UnitControl._output.event.StartTimer;
    me->_output.event.PendingUpCall = me->RequestResolver._output.event.PendingUpCall;
}
