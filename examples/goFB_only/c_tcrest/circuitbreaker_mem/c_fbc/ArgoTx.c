// This file is generated by FBC.

#include "ArgoTx.h"
#include <string.h>
#include <stdio.h>

/* Function block initialization function */
void ArgoTxinit(ArgoTx* me)
{
    me->_entered = false;
    me->_input.events = 0;
    me->_output.events = 0;

    me->chan = mp_create_qport(me->ChanId, SOURCE, sizeof(INT), 1);
	if(me->chan == NULL) {
		while(1) {
			HEX = me->ChanId;
		}
	}
}

/* Function block execution function */
void ArgoTxrun(ArgoTx* me)
{
    me->_output.events = 0;

	if(me->_input.event.DataPresent) {
		me->Data = me->_Data;
		HEX = me->Data;
		*((volatile _SPM INT *)me->chan->write_buf) = me->Data;
		me->Success = mp_nbsend(me->chan);
		me->_output.event.SuccessChanged = 1;
	}

    me->_input.events = 0;
}

