// This file has been automatically generated by goFB and should not be edited by hand
// Compiler written by Hammond Pearce and available at github.com/kiwih/goFB
// Verilog support is EXPERIMENTAL ONLY

// This file represents the Composite Function Block for CfbOneLink

module FB_CfbOneLink 

(
		input wire clk,
		
		//input events
		input wire Tick_eI,
		input wire PedWaiting_eI,
		input wire GoSeq_eI,
		input wire SpecialInstr_eI,
		
		//output events
		output wire DoneSeq_eO,
		output wire PedLightsChange_eO,
		output wire TrafLightsChange_eO,
		
		//input variables
		input wire  HoldGreen_I,
		
		//output variables
		output wire  PedRed_O ,
		output wire  PedFlashRed_O ,
		output wire  PedGreen_O ,
		output wire  TrafRed_O ,
		output wire  TrafYellow_O ,
		output wire  TrafGreen_O ,
		

		input reset
);


//Wires needed for event connections 
wire Tick_conn;
wire GoSeq_conn;
wire traf_DoneSeq_conn;
wire PedWaiting_conn;
wire traf_PedGrant_conn;
wire ped_SeqStatusChange_conn;
wire SpecialInstr_conn;
wire ped_LightCtrlChange_conn;
wire traf_LightCtrlChange_conn;


//Wires needed for data connections 
wire  ped_Running_conn;
wire  ped_Request_conn;
wire  HoldGreen_conn;
wire  ped_LightRed_conn;
wire  ped_LightFlashRed_conn;
wire  ped_LightGreen_conn;
wire  traf_LightRed_conn;
wire  traf_LightYellow_conn;
wire  traf_LightGreen_conn;


//top level I/O to signals
//input events
assign Tick_conn = Tick_eI;
assign Tick_conn = Tick_eI;
assign PedWaiting_conn = PedWaiting_eI;
assign GoSeq_conn = GoSeq_eI;
assign SpecialInstr_conn = SpecialInstr_eI;

//output events
assign DoneSeq_eO = traf_DoneSeq_conn;
assign PedLightsChange_eO = ped_LightCtrlChange_conn;
assign TrafLightsChange_eO = traf_LightCtrlChange_conn;

//input variables
assign HoldGreen_conn = HoldGreen_I;

//output events
assign PedRed_O = ped_LightRed_conn;
assign PedFlashRed_O = ped_LightFlashRed_conn;
assign PedGreen_O = ped_LightGreen_conn;
assign TrafRed_O = traf_LightRed_conn;
assign TrafYellow_O = traf_LightYellow_conn;
assign TrafGreen_O = traf_LightGreen_conn;



// child I/O to signals

FB_BfbOnePedCtrl ped (
	.clk(clk),

	//event outputs 
	.SeqStatusChange_eO(ped_SeqStatusChange_conn),
	.LightCtrlChange_eO(ped_LightCtrlChange_conn),
	
	//event inputs
	.Tick_eI(Tick_conn), 
	.PedWaiting_eI(PedWaiting_conn), 
	.SeqGrant_eI(traf_PedGrant_conn), 
	
	//data outputs
	.Running_O(ped_Running_conn), 
	.Request_O(ped_Request_conn), 
	.LightRed_O(ped_LightRed_conn), 
	.LightFlashRed_O(ped_LightFlashRed_conn), 
	.LightGreen_O(ped_LightGreen_conn), 
	
	//data inputs
	
	
	.reset(reset)
);

FB_BfbOneWayCtrl traf (
	.clk(clk),

	//event outputs 
	.DoneSeq_eO(traf_DoneSeq_conn),
	.PedGrant_eO(traf_PedGrant_conn),
	.LightCtrlChange_eO(traf_LightCtrlChange_conn),
	
	//event inputs
	.Tick_eI(Tick_conn), 
	.BeginSeq_eI(GoSeq_conn), 
	.PedStatusChange_eI(ped_SeqStatusChange_conn), 
	.SpecialInstr_eI(SpecialInstr_conn), 
	
	//data outputs
	.LightRed_O(traf_LightRed_conn), 
	.LightYellow_O(traf_LightYellow_conn), 
	.LightGreen_O(traf_LightGreen_conn), 
	
	//data inputs
	.PedRunning_I(ped_Running_conn),
	.PedRequest_I(ped_Request_conn),
	.HoldGreen_I(HoldGreen_conn),
	
	
	.reset(reset)
);



endmodule